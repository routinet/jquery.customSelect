/*!
 * jquery.customSelect() - v0.5.1
 * http://adam.co/lab/jquery/customselect/
 * 2014-04-19
 *
 * Copyright 2013 Adam Coulombe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License
 */
!function(e){"use strict";e.fn.extend({customSelect:function(t){if("undefined"==typeof document.body.style.maxHeight)return this;var s={customClass:"customSelect",customCSS:{control:{},selectSpan:{},selectInnerSpan:{}},mapId:!0,idPrefix:"CS",mapClass:!0,mapStyle:!0,arrowHint:!0,arrowClass:"customSelectArrow"},t=e.extend(s,t),n=function(e){return t.idPrefix+"-"+e},o=function(e){return t.customClass+e},a=function(t,s){var n=t.find(":selected"),a=s.children("."+o("Inner")),c=n.html()||"&nbsp;";a.html(c),n.attr("disabled")?s.addClass(o("DisabledOption")):s.removeClass(o("DisabledOption")),setTimeout(function(){s.removeClass(o("Open")),e(document).off("mouseup.customSelect")},60)};return this.each(function(){var s=e(this),c=e("<span />").addClass(o("Inner")),l=e("<span />"),r=e("<span />").addClass(t.arrowClass);t.arrowHint&&l.append(r),s.after(l.append(c)),l.addClass(t.customClass),t.mapClass&&l.addClass(s.attr("class")),t.mapStyle&&l.attr("style",s.attr("style")),t.mapId&&l.attr("id",n(s.attr("id"))),s.addClass("hasCustomSelect").on("render.customSelect",function(){a(s,l),s.css("width","");var n=parseInt(s.outerWidth(),10)-(parseInt(l.outerWidth(),10)-parseInt(l.width(),10));l.css(e.extend({display:"inline-block"},t.customCSS.selectSpan));var u=l.outerHeight();s.attr("disabled")?l.addClass(o("Disabled")):l.removeClass(o("Disabled")),c.css(e.extend({width:n,display:"inline-block"},t.customCSS.selectInnerSpan)),r.css(e.extend({display:"inline-block"},t.customCSS.selectArrow)),s.css(e.extend({"-webkit-appearance":"menulist-button",width:l.outerWidth(),position:"absolute",opacity:0,height:u,fontSize:l.css("font-size")},t.customCSS.control))}).on("change.customSelect",function(){l.addClass(o("Changed")),a(s,l)}).on("keyup.customSelect",function(e){l.hasClass(o("Open"))?(13==e.which||27==e.which)&&a(s,l):(s.trigger("blur.customSelect"),s.trigger("focus.customSelect"))}).on("mousedown.customSelect",function(){l.removeClass(o("Changed"))}).on("mouseup.customSelect",function(t){l.hasClass(o("Open"))||(e("."+o("Open")).not(l).length>0&&"undefined"!=typeof InstallTrigger?s.trigger("focus.customSelect"):(l.addClass(o("Open")),t.stopPropagation(),e(document).one("mouseup.customSelect",function(t){t.target!=s.get(0)&&e.inArray(t.target,s.find("*").get())<0?s.trigger("blur.customSelect"):a(s,l)})))}).on("focus.customSelect",function(){l.removeClass(o("Changed")).addClass(o("Focus"))}).on("blur.customSelect",function(){l.removeClass(o("Focus")+" "+o("Open"))}).on("mouseenter.customSelect",function(){l.addClass(o("Hover"))}).on("mouseleave.customSelect",function(){l.removeClass(o("Hover"))}).trigger("render.customSelect")})}})}(jQuery);